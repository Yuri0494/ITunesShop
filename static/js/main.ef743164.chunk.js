(this.webpackJsonpitunesshop=this.webpackJsonpitunesshop||[]).push([[0],{26:function(e,t,s){},38:function(e,t,s){},40:function(e,t,s){},41:function(e,t,s){},42:function(e,t,s){},43:function(e,t,s){},44:function(e,t,s){},45:function(e,t,s){},46:function(e,t,s){},53:function(e,t,s){"use strict";s.r(t);var a=s(1),c=s(0),n=s.n(c),r=s(30),i=s.n(r),l=(s(38),s(22)),o=s.n(l),d=s(31),j=s(9),h=s(10),u=s(15),m=s(13),A=s(12);s(25),s(40),s(41);var b=function(){return Object(a.jsx)("div",{className:"footer",children:Object(a.jsx)("p",{children:"All rights reserved \xa9 2021"})})},k=(s(42),s(55)),O=s(56),g=s(16),p=(s(43),s(44),"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABmJLR0QA/wD/AP+gvaeTAAABX0lEQVRIieXUsUscQRTH8Y/GKMcJISDYWJi08U8INga1SRdJYyWWQhpBUl1imdrSxk7LdNGQQoMQUFKlSytYWAhaaDDJWcy73LIud567VnkwzPJ+w/f3Zmbn8T/FEPZwgPp9GHxAM8Za1fDn+I0r/MJfvKgKXsdPqfJVvI3vIzyuwmA9gN8xiH7pLprYKAt/GaBLTGTyT3Ee2qu7wkdwHJA3BfpSaCcY7Qb7qv2HVDX2SOcJ4z3vr3s8yRp8iXkZfSXHcrA+Zw22Y56uoPKZmHeyyRH8wQVqJeC1YHzDcF48lC5nJi/0ELPB+fcA+zPip5jLGDzCFE7xLC9OSjv4UcKgFa+lvtXIJh/iLEzGugBuVFcAb+JdXvwYwkIHwIrUWecLtLkMvFGgW1T8KrcwEGsakbuKam9VeSuGsCn1/LzJZgeTW8F7jaxJ5fBWrGjvsPDMH5Q02Jf6zy7eFy24BlFjcV9XAk0EAAAAAElFTkSuQmCC"),x=function(e){Object(m.a)(s,e);var t=Object(A.a)(s);function s(){return Object(j.a)(this,s),t.apply(this,arguments)}return Object(h.a)(s,[{key:"render",value:function(){var e=this.props,t=e.img,s=e.audio,c=e.artistName,n=e.trackName,r=e.addToBasket,i=e.item,l=e.price;return Object(a.jsxs)("div",{className:"card",children:[Object(a.jsx)("div",{className:"card-img",children:Object(a.jsx)("img",{className:"img",src:t,alt:"\u0417\u0434\u0435\u0441\u044c \u0434\u043e\u043b\u0436\u043d\u0430 \u0431\u044b\u0442\u044c \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0430"})}),Object(a.jsxs)("div",{className:"card-info",children:[Object(a.jsx)("p",{className:"header",children:n}),Object(a.jsx)("p",{className:"discr1",children:c}),Object(a.jsxs)("p",{className:"discr2",children:["\u0426\u0435\u043d\u0430 ",l," $"]}),Object(a.jsx)("p",{className:"discr3"}),Object(a.jsx)("audio",{className:"audio",src:s,controls:!0})]}),Object(a.jsx)("p",{className:"basket-block",children:Object(a.jsx)("img",{className:"basket",alt:"\u0412 \u043a\u043e\u0440\u0437\u0438\u043d\u0443",src:i.inBasket?p:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABmJLR0QA/wD/AP+gvaeTAAABFUlEQVRIieXVsS5EQRQG4M9GSGwlkagk6L2BqLAvoNErFYpt1Cr9lhqdVxCRyCqJSqeVKFSiQCyrmNkYcuXu3r1T+ZOTOZk55//nnDO5l/+EaXRxhWYOgUP0o3XqJl9FD+94wyfW6yJv4k64+QH2o3+P2ToEjiLhDabQEGbRx/G45C2hHa9YSfaX8RxFtqqSz+EhkuwVnO/Gs0fMl5Fd+n4hdVmX0E9YHLm+ciylAudxbWNiTGtHrrNUbVso6zRDJQgD/cALZnKJXAtVtCrmD4b7A43EH7Rns6JAKdbiDW4r5hdWkGISTzFooS6BtEU9XER/YwTC38R/7YOdgoBhicriEf5aJ8I3f6iEAsFsKJ1BFmQX+ALJeG3hK7r4dgAAAABJRU5ErkJggg==",onClick:function(e){r(i),e.target.src="".concat(p),e.target.alt="\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u043e"}})})]})}}]),s}(n.a.Component);var v=function(e){var t=e.data,s=e.addToBasket,c=e.moreResults,n=e.getMoreResults,r=[],i=t.map((function(e,t){return Object(a.jsx)(x,{img:e.artworkUrl100,audio:e.previewUrl,artistName:e.artistName,trackName:e.trackName,trackViewUrl:e.trackViewUrl,addToBasket:s,item:e,price:e.trackPrice},e.id)})),l=i.length/2,o=0;o=i.length<20?0:10;for(var d=0;d<l;d++)r.push(Object(a.jsx)("div",{className:"row",children:i.slice(2*d,2*(d+1))},d));return 0===r.length?Object(a.jsx)("div",{className:"search-result-body",children:Object(a.jsx)("p",{className:"note",children:"\u0417\u0434\u0435\u0441\u044c \u0431\u0443\u0434\u0435\u0442 \u0432\u044b\u0432\u043e\u0434\u0438\u0442\u044c\u0441\u044f \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442 \u043f\u043e\u0438\u0441\u043a\u0430"})}):Object(a.jsxs)("div",{children:[Object(a.jsx)("div",{className:"elements",children:c?r:r.slice(0,r.length-o)}),Object(a.jsx)("p",{className:"cleanresult",children:Object(a.jsx)(g.a,{onClick:function(){n()},style:{display:c?"none":"block",margin:"0 auto"},variant:"outline-secondary",size:"sm",children:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0435\u0449\u0435 \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u043e\u0432"})})]})},f=(s(26),s(45),function(e){Object(m.a)(s,e);var t=Object(A.a)(s);function s(){return Object(j.a)(this,s),t.apply(this,arguments)}return Object(h.a)(s,[{key:"render",value:function(){var e=this.props,t=e.img,s=e.audio,c=e.artistName,n=e.trackName,r=e.item,i=e.deleteElementInBasket,l=e.price;return Object(a.jsxs)("div",{className:"card",children:[Object(a.jsx)("div",{className:"card-img",children:Object(a.jsx)("img",{className:"img",src:t,alt:"\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a"})}),Object(a.jsxs)("div",{className:"card-info",children:[Object(a.jsx)("p",{className:"header",children:n}),Object(a.jsx)("p",{className:"discr1",children:c}),Object(a.jsxs)("p",{className:"discr2",children:["\u0426\u0435\u043d\u0430 ",l," $"]}),Object(a.jsx)("p",{className:"discr3"}),Object(a.jsx)("audio",{className:"audio",src:s,controls:!0})]}),Object(a.jsxs)("p",{className:"basket-block",children:[Object(a.jsx)("a",{href:"http://localhost:3000/?#home",children:Object(a.jsx)("span",{children:" "})}),Object(a.jsx)("img",{className:"basket",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABmJLR0QA/wD/AP+gvaeTAAAA30lEQVRIie3VP04CQRTH8U8MsdVAR62QcAU5CdScwdaCRDgGUNl6BjkCiYWECmqxJ0uxo1kIm53FbYx8k1e8NzO/3/xJ3vBfuMYYG6wxCrXKGGGHWYgdnqs0WGOayWehVpolkl/GR1awdmQwRBuPmOMtcmNdPEjf6T1mQYKnSHFhbnJq4KqEyFnEGvSxyOQL9Ko0uEcnk3fQqtLgbC4GF4MfVg57zDLUCjnuRXlMQnxzF7ku9wRfqMeKoIHtqYG8E7xiIG1gmwLxZpj7UmJDbqUfzFZx//+UXt9NGYO/wx7coDzVnnrRKAAAAABJRU5ErkJggg==",alt:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c",onClick:function(e){i(r)}})]})]})}}]),s}(n.a.Component));s(46);var B=function(e){for(var t=e.whatItemsInBasket,s=e.addToBasket,c=e.deleteElementInBasket,n=e.cleanBasket,r=e.total,i=[],l=t.map((function(e,t){return Object(a.jsx)(f,{img:e.artworkUrl100,audio:e.previewUrl,artistName:e.artistName,trackName:e.trackName,trackViewUrl:e.trackViewUrl,addToBasket:s,item:e,deleteElementInBasket:c,price:e.trackPrice},e.id)})),o=l.length/2,d=0;d<o;d++)i.push(Object(a.jsx)("div",{className:"basket-row",children:l.slice(2*d,2*(d+1))},d+1));return 0===i.length?Object(a.jsx)("div",{className:"basket-body",children:Object(a.jsx)("p",{className:"note",children:"\u041a\u043e\u0440\u0437\u0438\u043d\u0430 \u0441\u0435\u0439\u0447\u0430\u0441 \u043f\u0443\u0441\u0442\u0430..."})}):Object(a.jsxs)("div",{children:[Object(a.jsxs)("div",{className:"sum",children:["\u0421\u0443\u043c\u043c\u0430 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u043d\u044b\u0445 \u0442\u043e\u0432\u0430\u0440\u043e\u0432: ",r," $"]}),Object(a.jsx)("div",{className:"elements-in-basket",children:i}),Object(a.jsx)("p",{className:"cleanbasket",onClick:function(){n()},children:Object(a.jsx)(g.a,{variant:"outline-secondary",size:"sm",children:"\u041e\u0447\u0438\u0441\u0442\u0438\u0442\u044c \u043a\u043e\u0440\u0437\u0438\u043d\u0443"})})]})},N=function(e){Object(m.a)(s,e);var t=Object(A.a)(s);function s(){return Object(j.a)(this,s),t.apply(this,arguments)}return Object(h.a)(s,[{key:"render",value:function(){return console.log("hello!"),Object(a.jsx)("div",{className:"basketpage",children:Object(a.jsx)(B,{total:this.props.total,whatItemsInBasket:this.props.whatItemsInBasket,deleteElementInBasket:this.props.deleteElementInBasket,cleanBasket:this.props.cleanBasket})})}}]),s}(n.a.Component),R=s(18),E=s(4),w=function(e){Object(m.a)(s,e);var t=Object(A.a)(s);function s(){return Object(j.a)(this,s),t.apply(this,arguments)}return Object(h.a)(s,[{key:"render",value:function(){var e=this;return Object(a.jsxs)(R.a,{children:[Object(a.jsxs)("div",{className:"nav-bar",children:[Object(a.jsxs)("div",{className:"links-zone",children:[Object(a.jsx)("div",{className:"brand-name",children:Object(a.jsx)(R.b,{className:"link",to:"/",children:"Itunes Shop"})}),Object(a.jsxs)("div",{className:"links",children:[Object(a.jsx)(k.a.Link,{}),Object(a.jsx)(k.a.Link,{})]})]}),Object(a.jsxs)("div",{className:"search-form",children:[Object(a.jsx)(O.a,{type:"text",placeholder:"\u0427\u0442\u043e \u0438\u0449\u0435\u043c?",className:"mr-sm-2"}),Object(a.jsxs)("div",{className:"button-block",children:[Object(a.jsxs)(g.a,{variant:"outline-light",onClick:function(t){var s=document.getElementsByClassName("mr-sm-2")[0];e.props.search(s.value)},children:[Object(a.jsx)("p",{className:"button-text",children:"\u041f\u043e\u0438\u0441\u043a"}),Object(a.jsx)("img",{className:"button-img",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABmJLR0QA/wD/AP+gvaeTAAABD0lEQVRIie2UPW7CQBCFP5IS0gEnoQdyAxAHSQoUUSD+Gm4DIiegoITkAOEMJIQWTDFvwY3xrqFAUZ402rX95r2xvTPwV1EGRsAHsFOsgCFQula8BWyBKCF+gOY14gcJTYAqkFfUgKme7YFGqHg5Vnn7Au9NnG+gGGIw4lx5GmbiDkIMPpVU9eDWxV2FGPwqqeDBfRJ3m0Z8iO2jgGJyvsS4wVprxSPPcb5CDN61vngYvGqdeXBPKGFNFGFHMQkdcTZk6Oom1kSRqqtjP70APGNv6Tq6Gyru0MCaKGlUbCTurvtZTIpYEy2x47vTfsD5s8RNM5mkwY0MF+N/k7sy6bmbjzc0WGAzak7gGL9vHAG+Ol6n6x8u5AAAAABJRU5ErkJggg==",alt:"\u041f\u043e\u0438\u0441\u043a"})]}),Object(a.jsx)(g.a,{variant:"outline-light",children:Object(a.jsx)(R.b,{className:"link",to:"/basketpage",children:Object(a.jsxs)("div",{className:"basket-url",children:[Object(a.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABmJLR0QA/wD/AP+gvaeTAAABd0lEQVRIie3Uv05UQRQG8J8ELKDEQhIooSASVxqitY02NBYiwcDjaMFDoJW+gqHVRCObRaMmGAo0tiSEYLICFnM2zu5e7+xuzZdMcu7Md/7N+e5whRExi9c4xmVhHeNV+PThWsXedTQxg5c4LRQzhQ38RAPtUvWrUdmDEjHDw/BZHYT8HL8xMUSCcZzhWe/BWAX5DvYN0GqGP/gcvsUEDWkGw6KJ5TrCI6nqkmpKqx2xkO6ug8n43sGvETogKe9pxOrDUlTweMTgsBYxbnU28hl8ldSTD6olaZw0xCdYD1uctTJ+I2J8q0rQ1q+EGdwNexELmA8b7uFmxl/GJ5kCe1W0p1sJP/znCQjMBifvYC8n9CZoYjoLeoS5mgRzwenYN/RIvKoD/l3TMB10fGo7aOFCahXe4yTs7ziMdRB7J/gQ9u3w3a8pCHzE24rkdRjDu/Dtwng/1zZeYBdvlN+kCdzHiiTjgbAl/Rfnyk/DOb5gc9DgV+jCX1rJbXOesbfCAAAAAElFTkSuQmCC",alt:"\u041a\u043e\u0440\u0437\u0438\u043d\u0430"}),"(",Object(a.jsx)("span",{children:this.props.howItemsInBasket}),")"]})})})]})]})]}),Object(a.jsxs)(E.c,{children:[Object(a.jsx)(E.a,{path:"/basketpage",children:Object(a.jsx)(N,{total:this.props.total,whatItemsInBasket:this.props.whatItemsInBasket,cleanBasket:this.props.cleanBasket,deleteElementInBasket:this.props.deleteElementInBasket})}),Object(a.jsx)(E.a,{path:"/",children:Object(a.jsx)(v,{data:this.props.searchResult,addToBasket:this.props.addToBasket,moreResults:this.props.moreResults,getMoreResults:this.props.getMoreResults})})]})]})}}]),s}(n.a.Component),G=function(e){Object(m.a)(s,e);var t=Object(A.a)(s);function s(e){var a;return Object(j.a)(this,s),(a=t.call(this,e)).state={searchResult:[],basket:[],total:0,moreResults:!1},a.search=a.search.bind(Object(u.a)(a)),a.addToBasket=a.addToBasket.bind(Object(u.a)(a)),a.deleteElementInBasket=a.deleteElementInBasket.bind(Object(u.a)(a)),a.cleanBasket=a.cleanBasket.bind(Object(u.a)(a)),a.getMoreResults=a.getMoreResults.bind(Object(u.a)(a)),a}return Object(h.a)(s,[{key:"search",value:function(){var e=Object(d.a)(o.a.mark((function e(t){var s,a=this;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=t.replace(/\s/g,"+"),e.next=3,fetch("https://itunes.apple.com/search?term=".concat(s,"+&limit=40"),{method:"GET",mode:"cors"}).then((function(e){return e.json()})).then((function(e){var t=e.results.map((function(e,t){return Object.assign({},{id:Math.floor(1e3*Math.random())},{inBasket:!1},e)}));a.setState((function(e){e.searchResult;return{searchResult:t}}))}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"addToBasket",value:function(e){this.setState((function(t){var s=t.basket,a=[],c=0;return s.forEach((function(t){e.id!==t.id&&a.push(t)})),a.push(e),e.inBasket=!0,a.forEach((function(e){void 0!==e.trackPrice&&(c+=+e.trackPrice)})),{basket:a,total:c.toFixed(2)}}))}},{key:"cleanBasket",value:function(){this.setState((function(e){e.basket.forEach((function(e){e.inBasket=!1}));return{basket:[],total:0}}))}},{key:"deleteElementInBasket",value:function(e){this.setState((function(t){var s=t.basket,a=[],c=0;return s.forEach((function(t){t.id!==e.id&&a.push(t)})),e.inBasket=!1,a.forEach((function(e){void 0!==e.trackPrice&&(c+=+e.trackPrice)})),{basket:a,total:c.toFixed(2)}}))}},{key:"getMoreResults",value:function(){this.setState((function(e){return{moreResults:!e.moreResults}}))}},{key:"render",value:function(){return Object(a.jsxs)("div",{className:"wrapper",children:[Object(a.jsx)(w,{howItemsInBasket:this.state.basket.length,total:this.state.total,search:this.search,whatItemsInBasket:this.state.basket,cleanBasket:this.cleanBasket,deleteElementInBasket:this.deleteElementInBasket,searchResult:this.state.searchResult,addToBasket:this.addToBasket,moreResults:this.state.moreResults,getMoreResults:this.getMoreResults}),Object(a.jsx)("div",{className:"footer",children:Object(a.jsx)(b,{})})]})}}]),s}(n.a.Component);i.a.render(Object(a.jsx)(G,{}),document.getElementById("root"))}},[[53,1,2]]]);
//# sourceMappingURL=main.ef743164.chunk.js.map